{"version":3,"sources":["components/OriginStats/OriginStats.js","store/Context.js","components/SearchBar/SearchBar.js","components/CountryCard/CountryCard.js","components/AllCountries/AllCountries.js","App.js","store/ContextProvider.js","index.js"],"names":["OriginStats","useState","stats","setStats","fetchData","a","config","headers","axios","get","response","data","countries_stat","filterStat","arr","israel","filter","item","country_name","useEffect","Container","className","active_cases","serious_critical","deaths","total_recovered","styled","div","Context","React","createContext","SearchBar","context","useContext","sortArr","by","sort","b","first","second","commaIndex","indexOf","replace","parseInt","type","style","backgroundColor","color","border","onChange","e","setSearchValue","target","value","search","length","setIsSearchMode","searchValue","placeholder","onClick","detail","setIsSortMode","setSortBy","CountryCard","country","flag","setFlag","fetchCountryFlag","src","cases","new_cases","new_deaths","total_cases_per_1m_population","AllCountries","searchResult","map","countriesStats","App","ContextProvider","props","setCountriesStats","searchMode","setSearchResult","isSortMode","sortBy","Provider","searchedData","toLowerCase","includes","children","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.5f478fce.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\n\r\nconst OriginStats = () => {\r\n  const [stats, setStats] = useState([]);\r\n\r\n  const fetchData = async () => {\r\n\r\n    const config = {\r\n      headers: {\r\n         \"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\r\n         \"x-rapidapi-key\":\r\n            \"95f38ad230msh4d3029f2fc876c7p185a74jsn6466d0af4891\"\r\n      }\r\n   };\r\n\r\n    const response = await axios.get(\r\n      `https://coronavirus-monitor.p.rapidapi.com/coronavirus/cases_by_country.php`,config\r\n    );\r\n\r\n    setStats(response.data.countries_stat);\r\n    filterStat(response.data.countries_stat);\r\n  };\r\n\r\n  const filterStat = (arr) => {\r\n    const israel = arr.filter(item => item.country_name === 'Israel');\r\n    setStats(...israel);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <h1>Israel's Statistics</h1>\r\n      <table className=\"israel-stat\">\r\n        <tr>\r\n          <td className=\"stat\">Active: {stats.active_cases} </td>\r\n          <td className=\"stat\">Critical: {stats.serious_critical} </td>\r\n        </tr>\r\n        <tr>\r\n          <td className=\"stat\">Deaths: {stats.deaths}</td>\r\n          <td className=\"stat\">Recovered: {stats.total_recovered}</td>\r\n        </tr>\r\n      </table>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default OriginStats;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-self: center;\r\n\r\n  h1 {\r\n    background-color: #20293d;\r\n    color: #da9021;\r\n    width: 8em;\r\n    height: 1.8em;\r\n    text-align: center;\r\n    line-height: 1.6em;\r\n    font-size: 1.6em;\r\n    align-self: center;\r\n  }\r\n  .israel-stat {\r\n    align-self: center;\r\n  }\r\n  .stat {\r\n    height: 2em;\r\n    width: 120vh;\r\n    background-color: #20293d;\r\n    border: gray 2px solid;\r\n    border-style: groove;\r\n    text-align: center;\r\n    color: #da9021;\r\n    font-size: 1.5em;\r\n  }\r\n`;\r\n","import React from \"react\";\r\n\r\nconst Context = React.createContext();\r\n\r\nexport default Context;\r\n\r\n\r\n","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Context from \"../../store/Context\";\r\n\r\nconst SearchBar = (arr) => {\r\n  const context = useContext(Context);\r\n\r\n  const onChangeHandler = (e) => {\r\n    context.setSearchValue(e.target.value);\r\n    context.search();\r\n    e.target.value.length > 0\r\n      ? context.setIsSearchMode(true)\r\n      : context.setIsSearchMode(false);\r\n  };\r\n\r\n  const onSortByClick = (e) => {\r\n    if (e.detail === 0) {   \r\n      context.setIsSortMode(true);\r\n      context.setSortBy(e.target.value);\r\n      sortArr(e.target.value);\r\n    }\r\n  };\r\n\r\n  const sortArr = (by) => {\r\n    if(by === \"sort\"){\r\n      return 0;\r\n    }\r\n\r\n    let sortedArr = arr.data;\r\n    sortedArr.sort(function (a, b) {\r\n      let first = a[by];\r\n      let second = b[by];\r\n\r\n      let commaIndex = first.indexOf(\",\");\r\n      while (commaIndex !== -1) {\r\n        first = first.replace(\",\", \"\");\r\n        commaIndex = first.indexOf(\",\");\r\n      }\r\n      \r\n\r\n      commaIndex = second.indexOf(\",\");\r\n      while (commaIndex !== -1) {\r\n        second = second.replace(\",\", \"\");\r\n        commaIndex = second.indexOf(\",\");\r\n      }\r\n      \r\n      if (parseInt(first) > parseInt(second)) return -1;\r\n      else if (parseInt(first) < parseInt(second)) return 1;\r\n      return 0;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"ui search\">\r\n        <div className=\"ui icon input\">\r\n          <input\r\n            className=\"prompt\"\r\n            type=\"text\"\r\n            style={{\r\n              backgroundColor: \"#222831\",\r\n              color: \"white\",\r\n              border: \"1px solid white\",\r\n            }}\r\n            onChange={onChangeHandler}\r\n            value={context.searchValue}\r\n            placeholder=\"Search countries...\"\r\n          />\r\n          <i className=\"search icon\" style={{ color: \"white\" }}></i>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"custom-select\">\r\n        <select className=\"select\" onClick={onSortByClick}>\r\n          <option className=\"Sort By\" value=\"sort\">Sort By:</option>\r\n          <option value=\"active_cases\">Active</option>\r\n          <option value=\"cases\">Cases</option>\r\n          <option value=\"serious_critical\">Critical</option>\r\n          <option value=\"deaths\">Deaths</option>\r\n          <option value=\"total_recovered\">Recovered</option>\r\n          <option value=\"new_cases\">TodayCases</option>\r\n          <option value=\"new_deaths\">TodayDeaths</option>\r\n        </select>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-left: -85px;\r\n  .search {\r\n    padding-right: 5em;\r\n    margin-top: 1em;\r\n  }\r\n  .select {\r\n    height: 2.5em;\r\n    width: 10em;\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\n\r\nconst CountryCard = ({ country }) => {\r\n  const [flag, setFlag] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchCountryFlag();\r\n  }, [country.country_name]);\r\n\r\n  const fetchCountryFlag = async () => {\r\n    const response = await axios.get(\r\n      `https://restcountries.eu/rest/v2/name/${country.country_name}`\r\n    );\r\n\r\n    setFlag(response.data[0].flag);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"card\">\r\n        <h4>\r\n          {country.country_name}\r\n          <i></i>\r\n          <img src={flag} />\r\n        </h4>\r\n        <div className=\"row\">\r\n          <p className=\"line\">Active</p>\r\n          <p className=\"data\">{country.active_cases}</p>\r\n        </div>\r\n        <div className=\"row\">\r\n          <p className=\"line\">Cases</p>\r\n          <p className=\"data\">{country.cases}</p>\r\n        </div>\r\n        <div className=\"row\">\r\n          <p className=\"line\">Critical</p>\r\n          <p className=\"data\">{country.serious_critical}</p>\r\n        </div>\r\n        <div className=\"row\">\r\n          <p className=\"line\">Deaths</p>\r\n          <p className=\"data\">{country.deaths}</p>\r\n        </div>\r\n        <div className=\"row\">\r\n          <p className=\"line\">Recovered</p>\r\n          <p className=\"data\">{country.total_recovered}</p>\r\n        </div>\r\n        <div className=\"row\">\r\n          <p className=\"line\">Today Cases</p>\r\n          <p className=\"data\">{country.new_cases}</p>\r\n        </div>\r\n        <div className=\"row\">\r\n          <p className=\"line\">Today Deaths</p>\r\n          <p className=\"data\">{country.new_deaths}</p>\r\n        </div>\r\n        <div className=\"row\">\r\n          <p className=\"line\">Total Cases Per 1M</p>\r\n          <p className=\"data\">{country.total_cases_per_1m_population}</p>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CountryCard;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  .card {\r\n    width: 20em;\r\n    height: 20em;\r\n    background-color: #222831;\r\n    padding: 1em 15em 15em 1em;\r\n    margin: 1em;\r\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n    line-height: 1em;\r\n  }\r\n  h4 {\r\n    background-color: #393e46;\r\n    width: 280px;\r\n    height: 2em;\r\n    margin-top: -14px;\r\n    margin-left: -14px;\r\n    line-height: 2em;\r\n    padding-left: 1em;\r\n  }\r\n  .line {\r\n    line-height: 15px;\r\n  }\r\n  .row {\r\n    inline-size: max-content;\r\n    display: flex;\r\n    justify-content: center;\r\n    text-align: center;\r\n    box-sizing: border-box;\r\n    flex-wrap: wrap;\r\n  }\r\n  .data {\r\n    margin-left: 100px;\r\n    line-height: 15px;\r\n  }\r\n  img {\r\n    margin-left: 140px;\r\n    margin-bottom: -4px;\r\n    max-height: 1.2em;\r\n    align-self: center;\r\n    margin-left: 75px;\r\n    right: 15px;\r\n  }\r\n`;\r\n","import React, { useContext } from \"react\";\r\nimport Context from \"../../store/Context\";\r\nimport CountryCard from \"../CountryCard/CountryCard\";\r\nimport styled from 'styled-components'\r\n\r\nconst AllCountries = () => {\r\n  const context = useContext(Context);\r\n\r\n  return (\r\n    <Container>\r\n      {context.searchValue\r\n        ? context.searchResult.map((item) => <CountryCard country={item} />)\r\n        : context.countriesStats.map((item) => <CountryCard country={item} />)}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AllCountries;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;`\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport OriginStats from \"./components/OriginStats/OriginStats\";\r\nimport SearchBar from './components/SearchBar/SearchBar';\r\nimport AllCountries from './components/AllCountries/AllCountries' \r\nimport Context from \"./store/Context\";\r\nimport { useContext } from \"react\";\r\n\r\nconst App = () => {\r\n  const context = useContext(Context);\r\n\r\n  return (\r\n    <Container>\r\n      <h1>Covid-19 Statistics</h1>\r\n      <OriginStats />\r\n      <SearchBar data={context.countriesStats}/>\r\n      <AllCountries/>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\nconst Container = styled.div`\r\n  background-color: #222831;\r\n  color: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  h1 {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-left: -26px;\r\n    margin-top: 1em;\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from 'react'\r\nimport Context from \"./Context\";\r\nimport axios from 'axios'\r\n\r\nconst ContextProvider = (props) => {\r\n\r\n    const [searchValue, setSearchValue] = useState('');\r\n    const [countriesStats, setCountriesStats] = useState([]);\r\n    const [searchMode, setIsSearchMode] = useState(false);\r\n    const [searchResult, setSearchResult] = useState([]);\r\n    const [isSortMode, setIsSortMode] = useState(false);\r\n    const [sortBy, setSortBy] = useState(\"\");\r\n\r\n    const fetchData = async () => {\r\n\r\n        const config = {\r\n          headers: {\r\n             \"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\r\n             \"x-rapidapi-key\":\r\n                \"95f38ad230msh4d3029f2fc876c7p185a74jsn6466d0af4891\"\r\n          }\r\n       };\r\n    \r\n        const response = await axios.get(\r\n          `https://coronavirus-monitor.p.rapidapi.com/coronavirus/cases_by_country.php`,config\r\n        );\r\n\r\n        setCountriesStats(response.data.countries_stat);\r\n      };\r\n\r\n      useEffect(() => {\r\n        fetchData();\r\n      },[])\r\n\r\n      const search = () => {\r\n         const searchedData = countriesStats.filter(country =>\r\n            country.country_name.toLowerCase().includes(searchValue.toLowerCase())\r\n         );\r\n         setSearchResult(searchedData);\r\n      };\r\n    return (\r\n       <Context.Provider\r\n         value={{\r\n            searchValue,\r\n            setSearchValue,\r\n            countriesStats,\r\n            setCountriesStats,\r\n            searchResult,\r\n            setSearchResult,\r\n            searchMode,\r\n            setIsSearchMode,\r\n            isSortMode,\r\n            setIsSortMode,\r\n            sortBy,\r\n            setSortBy,\r\n            search\r\n         }}\r\n      >\r\n         {props.children}\r\n      </Context.Provider>\r\n   );\r\n}\r\n\r\nexport default ContextProvider\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport ContextProvider from \"./store/ContextProvider\";\r\n\r\nReactDOM.render(\r\n  <ContextProvider>\r\n    <App />\r\n  </ContextProvider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}